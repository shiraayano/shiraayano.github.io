<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark_colorblind" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://avatars.githubusercontent.com/u/69860501?v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="
## 5. Collection子接口2：Set
1.Set及其实现类特点  
java.util.Collection:存储一个一个的数据  
-----子接口:Set:存储无序的、不可重复的数据(高中学习的集合)  
|---- HashSet;主要实现类 主要实现类，底层使用的是 HashMap，即使用数组+单向链表+红黑树结构进行存储（JDK8 中）  
I---- LinkedHashset 是 HashSet 的子类，再现有数组+单项列表+红黑树结构的基础上又添加了一组双向链表，用于记录添加元素的先后顺序。">
<meta property="og:title" content="Java 学习笔记 基础篇 017 集合2">
<meta property="og:description" content="
## 5. Collection子接口2：Set
1.Set及其实现类特点  
java.util.Collection:存储一个一个的数据  
-----子接口:Set:存储无序的、不可重复的数据(高中学习的集合)  
|---- HashSet;主要实现类 主要实现类，底层使用的是 HashMap，即使用数组+单向链表+红黑树结构进行存储（JDK8 中）  
I---- LinkedHashset 是 HashSet 的子类，再现有数组+单项列表+红黑树结构的基础上又添加了一组双向链表，用于记录添加元素的先后顺序。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.adouzi.eu.org/post/28.html">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Meekdai/meekdai.github.io/logo64.jpg">
<title>Java 学习笔记 基础篇 017 集合2</title>
<link href="//unpkg.com/@wooorm/starry-night@2.1.1/style/both.css" rel="stylesheet" />


</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>
<style>img{max-width:100%;height:auto;display:block;margin:1em auto;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1);transition:transform .2s ease,box-shadow .2s ease;}img[data-src]{opacity:0;animation:fadeIn 1s forwards;}@keyframes fadeIn{to{opacity:1;}}img:hover{transform:scale(1.05);box-shadow:0 8px 12px rgba(0,0,0,.2);}@media(max-width:600px){img{margin:.5em auto;}}</style>



<body>
    <div id="header">
<h1 class="postTitle">Java 学习笔记 基础篇 017 集合2</h1>
<div class="title-right">
    <a href="https://blog.adouzi.eu.org" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/shiraayano/shiraayano.github.io/issues/28" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h2>5. Collection子接口2：Set</h2>
<p>1.Set及其实现类特点<br>
java.util.Collection:存储一个一个的数据<br>
-----子接口:Set:存储无序的、不可重复的数据(高中学习的集合)<br>
|---- HashSet;主要实现类 主要实现类，底层使用的是 HashMap，即使用数组+单向链表+红黑树结构进行存储（JDK8 中）<br>
I---- LinkedHashset 是 HashSet 的子类，再现有数组+单项列表+红黑树结构的基础上又添加了一组双向链表，用于记录添加元素的先后顺序。即，我们可以按照添加元素的先后顺序实现遍历，便于查询操作<br>
---- TreeSet<br>
2.开发中的使用频率及场景:</p>
<blockquote>
<p>较List、Map来说，Set使用的频率比较少。<br>
用来过滤重复数据</p>
</blockquote>
<h3>5.1 Set接口概述</h3>
<ul>
<li>Set接口是Collection的子接口，Set接口相较于Collection接口没有提供额外的方法</li>
<li>Set 集合不允许包含相同的元素，如果试把两个相同的元素加入同一个 Set 集合中，则添加操作失败。</li>
<li>Set集合支持的遍历方式和Collection集合一样：foreach和Iterator。</li>
<li>Set的常用实现类有：HashSet、TreeSet、LinkedHashSet。</li>
</ul>
<blockquote>
<p>无序性:</p>
</blockquote>
<p>!= 随机性。</p>
<p>添加元素的顺序和遍历元素的顺序不一致,是不是就是无序性呢? No!</p>
<p>到底什么是无序性?与添加的元素的位置有关，不像ArrayList一样是依次紧密排列的。</p>
<p>这里是根据添加的元素的哈希值，计算的其在数组中的存储位置。此位置不是依次排列的，</p>
<p>表现为无序性</p>
<blockquote>
<p>不可重复性:</p>
</blockquote>
<p>添加到Set中的元素是不能相同的。</p>
<p>比较的标准，需要判断hashcode()得到的哈希值以及equals()得到的boolean型的结果</p>
<p>哈希值相同且equals()返回trve，则认为元素是相同的。</p>
<p>添加到HashSet/LinkedHashset中元素的要求:</p>
<p>要求元素所在的类要重写两个方法:equals()和hashcode()。</p>
<p>同时，要求equals()和 hashCode()要保持一致性!</p>
<ol>
<li>TreeSet的使用 6.1 底层的数据结构：红黑树。 6.2 添加数据后的特点：可以按照添加的元素的指定属性的大小顺序进行遍历。 6.3 向TreeSet中添加的元素的要求：
<ul>
<li>要求添加到TreeSet中的元素必须是同一个类型的对象，否则会报<code class="notranslate">ClassCastException</code>。</li>
<li>又两种排序 自然排序 定制排序</li>
</ul>
</li>
</ol>
<p>6.4 判断数据是否相同的标准</p>
<ul>
<li>不再是考虑<code class="notranslate">hashCode()</code>和<code class="notranslate">equals()</code>方法了，也就意味着添加到TreeSet中的元素所在的类不需要重写<code class="notranslate">hashCode()</code>方法。</li>
<li>比较元素大小的或比较元素是否相等的标准就是考虑自然排序或定制排序中，<code class="notranslate">compareTo()</code>或<code class="notranslate">compare()</code>的返回值。</li>
<li>如果<code class="notranslate">compareTo()</code>或<code class="notranslate">compare()</code>的返回值为0，则认为两个对象是相等的。由于TreeSet中不能存放相同的元素，因此后一个相等的元素就不能添加到TreeSet中。</li>
</ul>
<h3>5.2 Set主要实现类：HashSet</h3>
<h4>5.2.1 HashSet概述</h4>
<ul>
<li>HashSet 是 Set 接口的主要实现类，大多数时候使用 Set 集合时都使用这个实现类。</li>
<li>HashSet 按 Hash 算法来存储集合中的元素，因此具有很好的存储、查找、删除性能。</li>
<li>HashSet 具有以下<code class="notranslate">特点</code>：
<ul>
<li>不能保证元素的排列顺序</li>
<li>HashSet 不是线程安全的</li>
<li>集合元素可以是 null</li>
</ul>
</li>
<li>HashSet 集合<code class="notranslate">判断两个元素相等的标准</code>：两个对象通过 <code class="notranslate">hashCode()</code> 方法得到的哈希值相等，并且两个对象的 <code class="notranslate">equals() </code>方法返回值为true。</li>
<li>对于存放在Set容器中的对象，<strong>对应的类一定要重写hashCode()和equals(Object obj)方法</strong>，以实现对象相等规则。即：“相等的对象必须具有相等的散列码”。</li>
<li>HashSet集合中元素的无序性，不等同于随机性。这里的无序性与元素的添加位置有关。具体来说：我们在添加每一个元素到数组中时，具体的存储位置是由元素的hashCode()调用后返回的hash值决定的。导致在数组中每个元素不是依次紧密存放的，表现出一定的无序性。</li>
</ul>
<h4>5.2.2 HashSet中添加元素的过程：</h4>
<ul>
<li>第1步：当向 HashSet 集合中存入一个元素时，HashSet 会调用该对象的 hashCode() 方法得到该对象的 hashCode值，然后根据 hashCode值，通过某个散列函数决定该对象在 HashSet 底层数组中的存储位置。</li>
<li>第2步：如果要在数组中存储的位置上没有元素，则直接添加成功。</li>
<li>第3步：如果要在数组中存储的位置上有元素，则继续比较：</li>
</ul>
<blockquote>
<p>第2步添加成功，元素会保存在底层数组中。</p>
<p>第3步两种添加成功的操作，由于该底层数组的位置已经有元素了，则会通过<code class="notranslate">链表</code>的方式继续链接，存储。</p>
</blockquote>
<pre class="notranslate"><code class="notranslate">- 如果两个元素的hashCode值不相等，则添加成功；
- 如果两个元素的hashCode()值相等，则会继续调用equals()方法：
    * 如果equals()方法结果为false，则添加成功。
    * 如果equals()方法结果为true，则添加失败。
</code></pre>
<p>举例：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">package</span> <span class="pl-s1">com</span>.<span class="pl-s1">atguigu</span>.<span class="pl-s1">set</span>;

<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.<span class="pl-s1">Objects</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">MyDate</span> {
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">year</span>;
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">month</span>;
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">day</span>;

    <span class="pl-k">public</span> <span class="pl-smi">MyDate</span>(<span class="pl-smi">int</span> <span class="pl-s1">year</span>, <span class="pl-smi">int</span> <span class="pl-s1">month</span>, <span class="pl-smi">int</span> <span class="pl-s1">day</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">year</span> = <span class="pl-s1">year</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">month</span> = <span class="pl-s1">month</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">day</span> = <span class="pl-s1">day</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">boolean</span> <span class="pl-en">equals</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span> (<span class="pl-smi">this</span> == <span class="pl-s1">o</span>) <span class="pl-k">return</span> <span class="pl-c1">true</span>;
        <span class="pl-k">if</span> (<span class="pl-s1">o</span> == <span class="pl-c1">null</span> || <span class="pl-en">getClass</span>() != <span class="pl-s1">o</span>.<span class="pl-en">getClass</span>()) <span class="pl-k">return</span> <span class="pl-c1">false</span>;
        <span class="pl-smi">MyDate</span> <span class="pl-s1">myDate</span> = (<span class="pl-smi">MyDate</span>) <span class="pl-s1">o</span>;
        <span class="pl-k">return</span> <span class="pl-s1">year</span> == <span class="pl-s1">myDate</span>.<span class="pl-s1">year</span> &amp;&amp;
                <span class="pl-s1">month</span> == <span class="pl-s1">myDate</span>.<span class="pl-s1">month</span> &amp;&amp;
                <span class="pl-s1">day</span> == <span class="pl-s1">myDate</span>.<span class="pl-s1">day</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">hashCode</span>() {
        <span class="pl-k">return</span> <span class="pl-smi">Objects</span>.<span class="pl-en">hash</span>(<span class="pl-s1">year</span>, <span class="pl-s1">month</span>, <span class="pl-s1">day</span>);
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s">"MyDate{"</span> +
                <span class="pl-s">"year="</span> + <span class="pl-s1">year</span> +
                <span class="pl-s">", month="</span> + <span class="pl-s1">month</span> +
                <span class="pl-s">", day="</span> + <span class="pl-s1">day</span> +
                <span class="pl-s">'}'</span>;
    }
}</pre></div>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">package</span> <span class="pl-s1">com</span>.<span class="pl-s1">atguigu</span>.<span class="pl-s1">set</span>;

<span class="pl-k">import</span> <span class="pl-s1">org</span>.<span class="pl-s1">junit</span>.<span class="pl-s1">Test</span>;

<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.<span class="pl-s1">HashSet</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TestHashSet</span> {
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test01</span>(){
        <span class="pl-smi">HashSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>();
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"张三"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"张三"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"李四"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"王五"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"王五"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"赵六"</span>);

        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"set = "</span> + <span class="pl-s1">set</span>);<span class="pl-c">//不允许重复，无序</span>
    }

    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test02</span>(){
        <span class="pl-smi">HashSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>();
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2021</span>,<span class="pl-c1">1</span>,<span class="pl-c1">1</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2021</span>,<span class="pl-c1">1</span>,<span class="pl-c1">1</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2022</span>,<span class="pl-c1">2</span>,<span class="pl-c1">4</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2022</span>,<span class="pl-c1">2</span>,<span class="pl-c1">4</span>));


        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"set = "</span> + <span class="pl-s1">set</span>);<span class="pl-c">//不允许重复，无序</span>
    }
}</pre></div>
<h4>5.2.3 重写 hashCode() 方法的基本原则</h4>
<ul>
<li>在程序运行时，同一个对象多次调用 hashCode() 方法应该返回相同的值。</li>
<li>当两个对象的 equals() 方法比较返回 true 时，这两个对象的 hashCode() 方法的返回值也应相等。</li>
<li>对象中用作 equals() 方法比较的 Field，都应该用来计算 hashCode 值。</li>
</ul>
<blockquote>
<p>注意：如果两个元素的 equals() 方法返回 true，但它们的 hashCode() 返回值不相等，hashSet 将会把它们存储在不同的位置，但依然可以添加成功。</p>
</blockquote>
<h4>5.2.4 重写equals()方法的基本原则</h4>
<ul>
<li>重写equals方法的时候一般都需要同时复写hashCode方法。通常参与计算hashCode的对象的属性也应该参与到equals()中进行计算。</li>
<li>推荐：开发中直接调用Eclipse/IDEA里的快捷键自动重写equals()和hashCode()方法即可。</li>
</ul>
<pre lang="plain" class="notranslate"><code class="notranslate">首先，选择系数的时候要选择尽量大的系数。因为如果计算出来的hash地址越大，所谓的“冲突”就越少，查找起来效率也会提高。（减少冲突）

其次，31只占用5bits,相乘造成数据溢出的概率较小。

再次，31可以 由i*31== (i&lt;&lt;5)-1来表示,现在很多虚拟机里面都有做相关优化。（提高算法效率）

最后，31是一个素数，素数作用就是如果我用一个数字来乘以这个素数，那么最终出来的结果只能被素数本身和被乘数还有1来整除！(减少冲突)
</code></pre>
<pre class="notranslate"><code class="notranslate">- 为什么用Eclipse/IDEA复写hashCode方法，有31这个数字？
</code></pre>
<h4>5.2.5 练习</h4>
<p>**练习1：**在List内去除重复数字值，要求尽量简单</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">List</span> <span class="pl-en">duplicateList</span>(<span class="pl-smi">List</span> <span class="pl-s1">list</span>) {
      <span class="pl-smi">HashSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>();
      <span class="pl-s1">set</span>.<span class="pl-en">addAll</span>(<span class="pl-s1">list</span>);
      <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">ArrayList</span>(<span class="pl-s1">set</span>);
}
<span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
      <span class="pl-smi">List</span> <span class="pl-s1">list</span> = <span class="pl-k">new</span> <span class="pl-smi">ArrayList</span>();
      <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Integer</span>(<span class="pl-c1">1</span>));
      <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Integer</span>(<span class="pl-c1">2</span>));
      <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Integer</span>(<span class="pl-c1">2</span>));
      <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Integer</span>(<span class="pl-c1">4</span>));
      <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Integer</span>(<span class="pl-c1">4</span>));
      <span class="pl-smi">List</span> <span class="pl-s1">list2</span> = <span class="pl-en">duplicateList</span>(<span class="pl-s1">list</span>);
      <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">integer</span> : <span class="pl-s1">list2</span>) {
          <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">integer</span>);
      }
}</pre></div>
<p>**练习2：**获取随机数</p>
<p>编写一个程序，获取10个1至20的随机数，要求随机数不能重复。并把最终的随机数输出到控制台。</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * @Description </span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @date 2022年5月7日上午12:43:01</span>
<span class="pl-c"> *</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">RandomValueTest</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-smi">HashSet</span> <span class="pl-s1">hs</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>(); <span class="pl-c">// 创建集合对象</span>
        <span class="pl-smi">Random</span> <span class="pl-s1">r</span> = <span class="pl-k">new</span> <span class="pl-smi">Random</span>();
        <span class="pl-k">while</span> (<span class="pl-s1">hs</span>.<span class="pl-en">size</span>() &lt; <span class="pl-c1">10</span>) {
            <span class="pl-smi">int</span> <span class="pl-s1">num</span> = <span class="pl-s1">r</span>.<span class="pl-en">nextInt</span>(<span class="pl-c1">20</span>) + <span class="pl-c1">1</span>; <span class="pl-c">// 生成1到20的随机数</span>
            <span class="pl-s1">hs</span>.<span class="pl-en">add</span>(<span class="pl-s1">num</span>);
        }

        <span class="pl-k">for</span> (<span class="pl-smi">Integer</span> <span class="pl-s1">integer</span> : <span class="pl-s1">hs</span>) { <span class="pl-c">// 遍历集合</span>
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">integer</span>); <span class="pl-c">// 打印每一个元素</span>
        }
    }
}</pre></div>
<p>**练习3：**去重</p>
<p>使用Scanner从键盘读取一行输入，去掉其中重复字符，打印出不同的那些字符。比如：aaaabbbcccddd</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * @Description </span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @date 2022年5月7日上午12:44:01</span>
<span class="pl-c"> *</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">DistinctTest</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-smi">Scanner</span> <span class="pl-s1">sc</span> = <span class="pl-k">new</span> <span class="pl-smi">Scanner</span>(<span class="pl-smi">System</span>.<span class="pl-s1">in</span>); <span class="pl-c">// 创建键盘录入对象</span>
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"请输入一行字符串:"</span>);
        <span class="pl-smi">String</span> <span class="pl-s1">line</span> = <span class="pl-s1">sc</span>.<span class="pl-en">nextLine</span>(); <span class="pl-c">// 将键盘录入的字符串存储在line中</span>
        <span class="pl-smi">char</span>[] <span class="pl-s1">arr</span> = <span class="pl-s1">line</span>.<span class="pl-en">toCharArray</span>(); <span class="pl-c">// 将字符串转换成字符数组</span>
        
        <span class="pl-smi">HashSet</span> <span class="pl-s1">hs</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>(); <span class="pl-c">// 创建HashSet集合对象</span>

        <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">c</span> : <span class="pl-s1">arr</span>) { <span class="pl-c">// 遍历字符数组</span>
            <span class="pl-s1">hs</span>.<span class="pl-en">add</span>(<span class="pl-s1">c</span>); <span class="pl-c">// 将字符数组中的字符添加到集合中</span>
        }

        <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">ch</span> : <span class="pl-s1">hs</span>) { <span class="pl-c">// 遍历集合</span>
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">print</span>(<span class="pl-s1">ch</span>);
        }
    }
}</pre></div>
<p>**练习4：**面试题</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-smi">HashSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>();
<span class="pl-smi">Person</span> <span class="pl-s1">p1</span> = <span class="pl-k">new</span> <span class="pl-smi">Person</span>(<span class="pl-c1">1001</span>,<span class="pl-s">"AA"</span>);
<span class="pl-smi">Person</span> <span class="pl-s1">p2</span> = <span class="pl-k">new</span> <span class="pl-smi">Person</span>(<span class="pl-c1">1002</span>,<span class="pl-s">"BB"</span>);

<span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">p1</span>);
<span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">p2</span>);
<span class="pl-s1">p1</span>.<span class="pl-s1">name</span> = <span class="pl-s">"CC"</span>;
<span class="pl-s1">set</span>.<span class="pl-en">remove</span>(<span class="pl-s1">p1</span>);
<span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">set</span>);

<span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Person</span>(<span class="pl-c1">1001</span>,<span class="pl-s">"CC"</span>));
<span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">set</span>);

<span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">Person</span>(<span class="pl-c1">1001</span>,<span class="pl-s">"AA"</span>));
<span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">set</span>);

<span class="pl-c">//其中Person类中重写了hashCode()和equal()方法</span></pre></div>
<h3>5.3 Set实现类之二：LinkedHashSet</h3>
<ul>
<li>LinkedHashSet 是 HashSet 的子类，不允许集合元素重复。</li>
<li>LinkedHashSet 根据元素的 hashCode 值来决定元素的存储位置，但它同时使用<code class="notranslate">双向链表</code>维护元素的次序，这使得元素看起来是以<code class="notranslate">添加顺序</code>保存的。</li>
<li>LinkedHashSet<code class="notranslate">插入性能略低</code>于 HashSet，但在<code class="notranslate">迭代访问</code> Set 里的全部元素时有很好的性能。</li>
</ul>
<p>举例：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">package</span> <span class="pl-s1">com</span>.<span class="pl-s1">atguigu</span>.<span class="pl-s1">set</span>;

<span class="pl-k">import</span> <span class="pl-s1">org</span>.<span class="pl-s1">junit</span>.<span class="pl-s1">Test</span>;

<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.<span class="pl-s1">LinkedHashSet</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TestLinkedHashSet</span> {
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test01</span>(){
        <span class="pl-smi">LinkedHashSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">LinkedHashSet</span>();
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"张三"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"张三"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"李四"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"王五"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"王五"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"赵六"</span>);

        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"set = "</span> + <span class="pl-s1">set</span>);<span class="pl-c">//不允许重复，体现添加顺序</span>
    }
}</pre></div>
<h3>5.4 Set实现类之三：TreeSet</h3>
<h4>5.4.1 TreeSet概述</h4>
<ul>
<li>TreeSet 是 SortedSet 接口的实现类，TreeSet 可以按照添加的元素的指定的属性的大小顺序进行遍历。</li>
<li>TreeSet底层使用<code class="notranslate">红黑树</code>结构存储数据</li>
<li>新增的方法如下： (了解)
<ul>
<li>Comparator comparator()</li>
<li>Object first()</li>
<li>Object last()</li>
<li>Object lower(Object e)</li>
<li>Object higher(Object e)</li>
<li>SortedSet subSet(fromElement, toElement)</li>
<li>SortedSet headSet(toElement)</li>
<li>SortedSet tailSet(fromElement)</li>
</ul>
</li>
<li>TreeSet特点：不允许重复、实现排序（自然排序或定制排序）</li>
<li>TreeSet 两种排序方法：<code class="notranslate">自然排序</code>和<code class="notranslate">定制排序</code>。默认情况下，TreeSet 采用自然排序。
<ul>
<li><code class="notranslate">自然排序</code>：TreeSet 会调用集合元素的 compareTo(Object obj) 方法来比较元素之间的大小关系，然后将集合元素按升序(默认情况)排列。
<ul>
<li>如果试图把一个对象添加到 TreeSet 时，则该对象的类必须实现 Comparable 接口。</li>
<li>实现 Comparable 的类必须实现 compareTo(Object obj) 方法，两个对象即通过 compareTo(Object obj) 方法的返回值来比较大小。</li>
</ul>
</li>
<li><code class="notranslate">定制排序</code>：如果元素所属的类没有实现Comparable接口，或不希望按照升序(默认情况)的方式排列元素或希望按照其它属性大小进行排序，则考虑使用定制排序。定制排序，通过Comparator接口来实现。需要重写compare(T o1,T o2)方法。
<ul>
<li>利用int compare(T o1,T o2)方法，比较o1和o2的大小：如果方法返回正整数，则表示o1大于o2；如果返回0，表示相等；返回负整数，表示o1小于o2。</li>
<li>要实现定制排序，需要将实现Comparator接口的实例作为形参传递给TreeSet的构造器。</li>
</ul>
</li>
</ul>
</li>
<li>因为只有相同类的两个实例才会比较大小，所以向 TreeSet 中添加的应该是<code class="notranslate">同一个类的对象</code>。</li>
<li>对于 TreeSet 集合而言，它判断<code class="notranslate">两个对象是否相等的唯一标准</code>是：两个对象通过 <code class="notranslate">compareTo(Object obj) 或compare(Object o1,Object o2)</code>方法比较返回值。返回值为0，则认为两个对象相等。</li>
</ul>
<h4>5.4.2 举例</h4>
<p>举例1：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">package</span> <span class="pl-s1">com</span>.<span class="pl-s1">atguigu</span>.<span class="pl-s1">set</span>;


<span class="pl-k">import</span> <span class="pl-s1">org</span>.<span class="pl-s1">junit</span>.<span class="pl-s1">Test</span>;
<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.<span class="pl-s1">Iterator</span>;
<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.<span class="pl-s1">TreeSet</span>;

<span class="pl-c">/**</span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @create 14:22</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TreeSetTest</span> {
    <span class="pl-c">/*</span>
<span class="pl-c">    * 自然排序：针对String类的对象</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test1</span>(){
        <span class="pl-smi">TreeSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeSet</span>();

        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"MM"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"CC"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"AA"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"DD"</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s">"ZZ"</span>);
        <span class="pl-c">//set.add(123);  //报ClassCastException的异常</span>

        <span class="pl-smi">Iterator</span> <span class="pl-s1">iterator</span> = <span class="pl-s1">set</span>.<span class="pl-en">iterator</span>();
        <span class="pl-k">while</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">hasNext</span>()){
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">next</span>());
        }
    }
    <span class="pl-c">/*</span>
<span class="pl-c">    * 自然排序：针对User类的对象</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test2</span>(){
        <span class="pl-smi">TreeSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeSet</span>();

        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Tom"</span>,<span class="pl-c1">12</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Rose"</span>,<span class="pl-c1">23</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jerry"</span>,<span class="pl-c1">2</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Eric"</span>,<span class="pl-c1">18</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Tommy"</span>,<span class="pl-c1">44</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jim"</span>,<span class="pl-c1">23</span>));
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Maria"</span>,<span class="pl-c1">18</span>));
        <span class="pl-c">//set.add("Tom");</span>

        <span class="pl-smi">Iterator</span> <span class="pl-s1">iterator</span> = <span class="pl-s1">set</span>.<span class="pl-en">iterator</span>();
        <span class="pl-k">while</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">hasNext</span>()){
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">next</span>());
        }

        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">set</span>.<span class="pl-en">contains</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jack"</span>, <span class="pl-c1">23</span>))); <span class="pl-c">//true</span>
    }
}</pre></div>
<p>其中，User类定义如下：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @create 14:22</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">User</span> <span class="pl-k">implements</span> <span class="pl-smi">Comparable</span>{
    <span class="pl-smi">String</span> <span class="pl-s1">name</span>;
    <span class="pl-smi">int</span> <span class="pl-s1">age</span>;
    
    <span class="pl-k">public</span> <span class="pl-smi">User</span>() {
    }
    
    <span class="pl-k">public</span> <span class="pl-smi">User</span>(<span class="pl-smi">String</span> <span class="pl-s1">name</span>, <span class="pl-smi">int</span> <span class="pl-s1">age</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">name</span> = <span class="pl-s1">name</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">age</span> = <span class="pl-s1">age</span>;
    }
    
    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s">"User{"</span> +
                <span class="pl-s">"name='"</span> + <span class="pl-s1">name</span> + <span class="pl-s">'\''</span> +
                <span class="pl-s">", age="</span> + <span class="pl-s1">age</span> +
                <span class="pl-s">'}'</span>;
    }
    <span class="pl-c">/*</span>
<span class="pl-c">    举例：按照age从小到大的顺序排列，如果age相同，则按照name从大到小的顺序排列</span>
<span class="pl-c">    * */</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compareTo</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span>(<span class="pl-smi">this</span> == <span class="pl-s1">o</span>){
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }

        <span class="pl-k">if</span>(<span class="pl-s1">o</span> <span class="pl-k">instanceof</span> <span class="pl-smi">User</span>){
            <span class="pl-smi">User</span> <span class="pl-s1">user</span> = (<span class="pl-smi">User</span>)<span class="pl-s1">o</span>;
            <span class="pl-smi">int</span> <span class="pl-s1">value</span> = <span class="pl-smi">this</span>.<span class="pl-s1">age</span> - <span class="pl-s1">user</span>.<span class="pl-s1">age</span>;
            <span class="pl-k">if</span>(<span class="pl-s1">value</span> != <span class="pl-c1">0</span>){
                <span class="pl-k">return</span> <span class="pl-s1">value</span>;
            }
            <span class="pl-k">return</span> -<span class="pl-smi">this</span>.<span class="pl-s1">name</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">user</span>.<span class="pl-s1">name</span>);
        }
        <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"输入的类型不匹配"</span>);
    }
}</pre></div>
<p>举例2：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/*</span>
<span class="pl-c"> * 定制排序</span>
<span class="pl-c"> * */</span>
<span class="pl-c1">@</span><span class="pl-c1">Test</span>
<span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test3</span>(){
    <span class="pl-c">//按照User的姓名的从小到大的顺序排列</span>
    <span class="pl-smi">Comparator</span> <span class="pl-s1">comparator</span> = <span class="pl-k">new</span> <span class="pl-smi">Comparator</span>() {
        <span class="pl-c1">@</span><span class="pl-c1">Override</span>
        <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compare</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o1</span>, <span class="pl-smi">Object</span> <span class="pl-s1">o2</span>) {
            <span class="pl-k">if</span>(<span class="pl-s1">o1</span> <span class="pl-k">instanceof</span> <span class="pl-smi">User</span> &amp;&amp; <span class="pl-s1">o2</span> <span class="pl-k">instanceof</span> <span class="pl-smi">User</span>){
                <span class="pl-smi">User</span> <span class="pl-s1">u1</span> = (<span class="pl-smi">User</span>)<span class="pl-s1">o1</span>;
                <span class="pl-smi">User</span> <span class="pl-s1">u2</span> = (<span class="pl-smi">User</span>)<span class="pl-s1">o2</span>;

                <span class="pl-k">return</span> <span class="pl-s1">u1</span>.<span class="pl-s1">name</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">u2</span>.<span class="pl-s1">name</span>);
            }
            <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"输入的类型不匹配"</span>);
        }
    };
    <span class="pl-smi">TreeSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeSet</span>(<span class="pl-s1">comparator</span>);

    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Tom"</span>,<span class="pl-c1">12</span>));
    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Rose"</span>,<span class="pl-c1">23</span>));
    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jerry"</span>,<span class="pl-c1">2</span>));
    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Eric"</span>,<span class="pl-c1">18</span>));
    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Tommy"</span>,<span class="pl-c1">44</span>));
    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jim"</span>,<span class="pl-c1">23</span>));
    <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Maria"</span>,<span class="pl-c1">18</span>));
    <span class="pl-c">//set.add(new User("Maria",28));</span>

    <span class="pl-smi">Iterator</span> <span class="pl-s1">iterator</span> = <span class="pl-s1">set</span>.<span class="pl-en">iterator</span>();
    <span class="pl-k">while</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">hasNext</span>()){
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">next</span>());
    }
}</pre></div>
<h4>5.4.3 练习</h4>
<p>**练习1：**在一个List集合中存储了多个无大小顺序并且有重复的字符串，定义一个方法，让其有序(从小到大排序)，并且不能去除重复元素。</p>
<p>提示：考查ArrayList、TreeSet</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * @Description</span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @date 2022年4月7日上午12:50:46</span>
<span class="pl-c"> *</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">SortTest</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-smi">ArrayList</span> <span class="pl-s1">list</span> = <span class="pl-k">new</span> <span class="pl-smi">ArrayList</span>();
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"ccc"</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"ccc"</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"aaa"</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"aaa"</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"bbb"</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"ddd"</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-s">"ddd"</span>);
        <span class="pl-en">sort</span>(<span class="pl-s1">list</span>);
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">list</span>);
    }

    <span class="pl-c">/*</span>
<span class="pl-c">     * 对集合中的元素排序,并保留重复</span>
<span class="pl-c">     */</span>
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">sort</span>(<span class="pl-smi">List</span> <span class="pl-s1">list</span>) {
        <span class="pl-smi">TreeSet</span> <span class="pl-s1">ts</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeSet</span>(<span class="pl-k">new</span> <span class="pl-smi">Comparator</span>() { 
            <span class="pl-c1">@</span><span class="pl-c1">Override</span>
            <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compare</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o1</span>, <span class="pl-smi">Object</span> <span class="pl-s1">o2</span>) { <span class="pl-c">// 重写compare方法</span>
                <span class="pl-smi">String</span> <span class="pl-s1">s1</span> = (<span class="pl-smi">String</span>)<span class="pl-s1">o1</span>;
                <span class="pl-smi">String</span> <span class="pl-s1">s2</span> = (<span class="pl-smi">String</span>)<span class="pl-s1">o2</span>;
                <span class="pl-smi">int</span> <span class="pl-s1">num</span> = <span class="pl-s1">s1</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">s2</span>); <span class="pl-c">// 比较内容</span>
                <span class="pl-k">return</span> <span class="pl-s1">num</span> == <span class="pl-c1">0</span> ? <span class="pl-c1">1</span> : <span class="pl-s1">num</span>; <span class="pl-c">// 如果内容一样返回一个不为0的数字即可</span>
            }
        });

        <span class="pl-s1">ts</span>.<span class="pl-en">addAll</span>(<span class="pl-s1">list</span>); <span class="pl-c">// 将list集合中的所有元素添加到ts中</span>
        <span class="pl-s1">list</span>.<span class="pl-en">clear</span>(); <span class="pl-c">// 清空list</span>
        <span class="pl-s1">list</span>.<span class="pl-en">addAll</span>(<span class="pl-s1">ts</span>); <span class="pl-c">// 将ts中排序并保留重复的结果在添加到list中</span>
    }
}</pre></div>
<p>**练习2：**TreeSet的自然排序和定制排序</p>
<ol>
<li>定义一个Employee类。<br>
该类包含：private成员变量name,age,birthday，其中 birthday 为 MyDate 类的对象；<br>
并为每一个属性定义 getter, setter 方法；<br>
并重写 toString 方法输出 name, age, birthday</li>
<li>MyDate类包含:<br>
private成员变量year,month,day；并为每一个属性定义 getter, setter 方法；</li>
<li>创建该类的 5 个对象，并把这些对象放入 TreeSet 集合中（下一章：TreeSet 需使用泛型来定义）</li>
<li>分别按以下两种方式对集合中的元素进行排序，并遍历输出：1). 使Employee 实现 Comparable 接口，并按 name 排序<br>
2). 创建 TreeSet 时传入 Comparator对象，按生日日期的先后排序。</li>
</ol>
<p>代码实现：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">MyDate</span> <span class="pl-k">implements</span> <span class="pl-smi">Comparable</span>{
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">year</span>;
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">month</span>;
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">day</span>;

    <span class="pl-k">public</span> <span class="pl-smi">MyDate</span>() {
    }

    <span class="pl-k">public</span> <span class="pl-smi">MyDate</span>(<span class="pl-smi">int</span> <span class="pl-s1">year</span>, <span class="pl-smi">int</span> <span class="pl-s1">month</span>, <span class="pl-smi">int</span> <span class="pl-s1">day</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">year</span> = <span class="pl-s1">year</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">month</span> = <span class="pl-s1">month</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">day</span> = <span class="pl-s1">day</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">getYear</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">year</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setYear</span>(<span class="pl-smi">int</span> <span class="pl-s1">year</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">year</span> = <span class="pl-s1">year</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">getMonth</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">month</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setMonth</span>(<span class="pl-smi">int</span> <span class="pl-s1">month</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">month</span> = <span class="pl-s1">month</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">getDay</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">day</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setDay</span>(<span class="pl-smi">int</span> <span class="pl-s1">day</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">day</span> = <span class="pl-s1">day</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
<span class="pl-c">//        return "MyDate{" +</span>
<span class="pl-c">//                "year=" + year +</span>
<span class="pl-c">//                ", month=" + month +</span>
<span class="pl-c">//                ", day=" + day +</span>
<span class="pl-c">//                '}';</span>
        <span class="pl-k">return</span> <span class="pl-s1">year</span> + <span class="pl-s">"年"</span> + <span class="pl-s1">month</span> + <span class="pl-s">"月"</span> + <span class="pl-s1">day</span> + <span class="pl-s">"日"</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compareTo</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span>(<span class="pl-smi">this</span> == <span class="pl-s1">o</span>){
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> <span class="pl-k">instanceof</span> <span class="pl-smi">MyDate</span>){
            <span class="pl-smi">MyDate</span> <span class="pl-s1">myDate</span> = (<span class="pl-smi">MyDate</span>) <span class="pl-s1">o</span>;
            <span class="pl-smi">int</span> <span class="pl-s1">yearDistance</span> = <span class="pl-smi">this</span>.<span class="pl-en">getYear</span>() - <span class="pl-s1">myDate</span>.<span class="pl-en">getYear</span>();
            <span class="pl-k">if</span>(<span class="pl-s1">yearDistance</span> != <span class="pl-c1">0</span>){
                <span class="pl-k">return</span> <span class="pl-s1">yearDistance</span>;
            }
            <span class="pl-smi">int</span> <span class="pl-s1">monthDistance</span> = <span class="pl-smi">this</span>.<span class="pl-en">getMonth</span>() - <span class="pl-s1">myDate</span>.<span class="pl-en">getMonth</span>();
            <span class="pl-k">if</span>(<span class="pl-s1">monthDistance</span> != <span class="pl-c1">0</span>){
                <span class="pl-k">return</span> <span class="pl-s1">monthDistance</span>;
            }

            <span class="pl-k">return</span> <span class="pl-smi">this</span>.<span class="pl-en">getDay</span>() - <span class="pl-s1">myDate</span>.<span class="pl-en">getDay</span>();
        }
        <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"输入的类型不匹配"</span>);
    }
}</pre></div>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">Employee</span> <span class="pl-k">implements</span> <span class="pl-smi">Comparable</span>{
    <span class="pl-k">private</span> <span class="pl-smi">String</span> <span class="pl-s1">name</span>;
    <span class="pl-k">private</span> <span class="pl-smi">int</span> <span class="pl-s1">age</span>;
    <span class="pl-k">private</span> <span class="pl-smi">MyDate</span> <span class="pl-s1">birthday</span>;


    <span class="pl-k">public</span> <span class="pl-smi">Employee</span>() {
    }

    <span class="pl-k">public</span> <span class="pl-smi">Employee</span>(<span class="pl-smi">String</span> <span class="pl-s1">name</span>, <span class="pl-smi">int</span> <span class="pl-s1">age</span>, <span class="pl-smi">MyDate</span> <span class="pl-s1">birthday</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">name</span> = <span class="pl-s1">name</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">age</span> = <span class="pl-s1">age</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">birthday</span> = <span class="pl-s1">birthday</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">getName</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">name</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setName</span>(<span class="pl-smi">String</span> <span class="pl-s1">name</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">name</span> = <span class="pl-s1">name</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">getAge</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">age</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setAge</span>(<span class="pl-smi">int</span> <span class="pl-s1">age</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">age</span> = <span class="pl-s1">age</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">MyDate</span> <span class="pl-en">getBirthday</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">birthday</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setBirthday</span>(<span class="pl-smi">MyDate</span> <span class="pl-s1">birthday</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">birthday</span> = <span class="pl-s1">birthday</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s">"Employee{"</span> +
                <span class="pl-s">"name='"</span> + <span class="pl-s1">name</span> + <span class="pl-s">'\''</span> +
                <span class="pl-s">", age='"</span> + <span class="pl-s1">age</span> + <span class="pl-s">'\''</span> +
                <span class="pl-s">", birthday="</span> + <span class="pl-s1">birthday</span> +
                <span class="pl-s">'}'</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compareTo</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> == <span class="pl-smi">this</span>){
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> <span class="pl-k">instanceof</span> <span class="pl-smi">Employee</span>){
            <span class="pl-smi">Employee</span> <span class="pl-s1">emp</span> = (<span class="pl-smi">Employee</span>) <span class="pl-s1">o</span>;
            <span class="pl-k">return</span> <span class="pl-smi">this</span>.<span class="pl-s1">name</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">emp</span>.<span class="pl-s1">name</span>);
        }
        <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"传入的类型不匹配"</span>);
    }
}</pre></div>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">EmployeeTest</span> {
    <span class="pl-c">/*</span>
<span class="pl-c">    自然排序：</span>
<span class="pl-c">    创建该类的 5 个对象，并把这些对象放入 TreeSet 集合中</span>
<span class="pl-c">    * 需求1：使Employee 实现 Comparable 接口，并按 name 排序</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test1</span>(){
        <span class="pl-smi">TreeSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeSet</span>();

        <span class="pl-smi">Employee</span> <span class="pl-s1">e1</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Tom"</span>,<span class="pl-c1">23</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">1999</span>,<span class="pl-c1">7</span>,<span class="pl-c1">9</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e2</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Rose"</span>,<span class="pl-c1">43</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">1999</span>,<span class="pl-c1">7</span>,<span class="pl-c1">19</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e3</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Jack"</span>,<span class="pl-c1">54</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">1998</span>,<span class="pl-c1">12</span>,<span class="pl-c1">21</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e4</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Jerry"</span>,<span class="pl-c1">12</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2002</span>,<span class="pl-c1">4</span>,<span class="pl-c1">21</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e5</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Tony"</span>,<span class="pl-c1">22</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2001</span>,<span class="pl-c1">9</span>,<span class="pl-c1">12</span>));

        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e1</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e2</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e3</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e4</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e5</span>);

        <span class="pl-c">//遍历</span>
        <span class="pl-smi">Iterator</span> <span class="pl-s1">iterator</span> = <span class="pl-s1">set</span>.<span class="pl-en">iterator</span>();
        <span class="pl-k">while</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">hasNext</span>()){
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">next</span>());
        }
    }

    <span class="pl-c">/*</span>
<span class="pl-c">    * 定制排序：</span>
<span class="pl-c">    * 创建 TreeSet 时传入 Comparator对象，按生日日期的先后排序。</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test2</span>(){
        <span class="pl-smi">Comparator</span> <span class="pl-s1">comparator</span> = <span class="pl-k">new</span> <span class="pl-smi">Comparator</span>() {
            <span class="pl-c1">@</span><span class="pl-c1">Override</span>
            <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compare</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o1</span>, <span class="pl-smi">Object</span> <span class="pl-s1">o2</span>) {
                <span class="pl-k">if</span>(<span class="pl-s1">o1</span> <span class="pl-k">instanceof</span> <span class="pl-smi">Employee</span> &amp;&amp; <span class="pl-s1">o2</span> <span class="pl-k">instanceof</span> <span class="pl-smi">Employee</span>){
                    <span class="pl-smi">Employee</span> <span class="pl-s1">e1</span> = (<span class="pl-smi">Employee</span>) <span class="pl-s1">o1</span>;
                    <span class="pl-smi">Employee</span> <span class="pl-s1">e2</span> = (<span class="pl-smi">Employee</span>) <span class="pl-s1">o2</span>;
                    <span class="pl-c">//对比两个employee的生日的大小</span>
                    <span class="pl-smi">MyDate</span> <span class="pl-s1">birth1</span> = <span class="pl-s1">e1</span>.<span class="pl-en">getBirthday</span>();
                    <span class="pl-smi">MyDate</span> <span class="pl-s1">birth2</span> = <span class="pl-s1">e2</span>.<span class="pl-en">getBirthday</span>();
                    <span class="pl-c">//方式1：</span>
<span class="pl-c">//                    int yearDistance = birth1.getYear() - birth2.getYear();</span>
<span class="pl-c">//                    if(yearDistance != 0){</span>
<span class="pl-c">//                        return yearDistance;</span>
<span class="pl-c">//                    }</span>
<span class="pl-c">//                    int monthDistance = birth1.getMonth() - birth2.getMonth();</span>
<span class="pl-c">//                    if(monthDistance != 0){</span>
<span class="pl-c">//                        return monthDistance;</span>
<span class="pl-c">//                    }</span>
<span class="pl-c">//</span>
<span class="pl-c">//                    return birth1.getDay() - birth2.getDay();</span>

                    <span class="pl-c">//方式2：</span>
                    <span class="pl-k">return</span> <span class="pl-s1">birth1</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">birth2</span>);
                }

                <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"输入的类型不匹配"</span>);

            }
        };
        <span class="pl-smi">TreeSet</span> <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeSet</span>(<span class="pl-s1">comparator</span>);

        <span class="pl-smi">Employee</span> <span class="pl-s1">e1</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Tom"</span>,<span class="pl-c1">23</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">1999</span>,<span class="pl-c1">7</span>,<span class="pl-c1">9</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e2</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Rose"</span>,<span class="pl-c1">43</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">1999</span>,<span class="pl-c1">7</span>,<span class="pl-c1">19</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e3</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Jack"</span>,<span class="pl-c1">54</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">1998</span>,<span class="pl-c1">12</span>,<span class="pl-c1">21</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e4</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Jerry"</span>,<span class="pl-c1">12</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2002</span>,<span class="pl-c1">4</span>,<span class="pl-c1">21</span>));
        <span class="pl-smi">Employee</span> <span class="pl-s1">e5</span> = <span class="pl-k">new</span> <span class="pl-smi">Employee</span>(<span class="pl-s">"Tony"</span>,<span class="pl-c1">22</span>,<span class="pl-k">new</span> <span class="pl-smi">MyDate</span>(<span class="pl-c1">2001</span>,<span class="pl-c1">9</span>,<span class="pl-c1">12</span>));

        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e1</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e2</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e3</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e4</span>);
        <span class="pl-s1">set</span>.<span class="pl-en">add</span>(<span class="pl-s1">e5</span>);

        <span class="pl-c">//遍历</span>
        <span class="pl-smi">Iterator</span> <span class="pl-s1">iterator</span> = <span class="pl-s1">set</span>.<span class="pl-en">iterator</span>();
        <span class="pl-k">while</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">hasNext</span>()){
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">iterator</span>.<span class="pl-en">next</span>());
        }

    }
}</pre></div>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">// 系例:</span>
<span class="pl-c">// 定义方法如下:public static List duplicateList(List list)</span>
<span class="pl-c">// 要求:① 参数List中只存放Integer的对象</span>
<span class="pl-c">// ② 在List内去除重复数字值，尽量简单</span>
<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.*;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">Test</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-smi">List</span>&lt;<span class="pl-smi">Integer</span>&gt; <span class="pl-s1">list</span> = <span class="pl-k">new</span> <span class="pl-smi">ArrayList</span>&lt;&gt;();
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">1</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">2</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">3</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">2</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">4</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">5</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">1</span>);
        <span class="pl-s1">list</span>.<span class="pl-en">add</span>(<span class="pl-c1">6</span>);
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-en">duplicateList</span>(<span class="pl-s1">list</span>));
    }

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">List</span>&lt;<span class="pl-smi">Integer</span>&gt; <span class="pl-en">duplicateList</span>(<span class="pl-smi">List</span>&lt;<span class="pl-smi">Integer</span>&gt; <span class="pl-s1">list</span>) {
        <span class="pl-c">// 使用HashSet去除重复元素</span>
        <span class="pl-smi">Set</span>&lt;<span class="pl-smi">Integer</span>&gt; <span class="pl-s1">set</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>&lt;&gt;(<span class="pl-s1">list</span>);
        
        <span class="pl-c">// 将Set转换为List并返回</span>
        <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">ArrayList</span>&lt;&gt;(<span class="pl-s1">set</span>);
    }
}</pre></div>
<h2>6. Map接口</h2>
<p>现实生活与开发中，我们常会看到这样的一类集合：用户ID与账户信息、学生姓名与考试成绩、IP地址与主机名等，这种一一对应的关系，就称作映射。Java提供了专门的集合框架用来存储这种映射关系的对象，即<code class="notranslate">java.util.Map</code>接口。</p>
<h3>6.1 Map接口概述</h3>
<ul>
<li>Map与Collection并列存在。用于保存具有<code class="notranslate">映射关系</code>的数据：key-value
<ul>
<li><code class="notranslate">Collection</code>集合称为单列集合，元素是孤立存在的（理解为单身）。</li>
<li><code class="notranslate">Map</code>集合称为双列集合，元素是成对存在的(理解为夫妻)。</li>
</ul>
</li>
<li>Map 中的 key 和  value 都可以是任何引用类型的数据。但常用String类作为Map的“键”。</li>
<li>Map接口的常用实现类：<code class="notranslate">HashMap</code>、<code class="notranslate">LinkedHashMap</code>、<code class="notranslate">TreeMap</code>和``Properties<code class="notranslate">。其中，HashMap是 Map 接口使用</code>频率最高`的实现类。</li>
</ul>
<h3>6.2 Map中key-value特点</h3>
<p>这里主要以HashMap为例说明。HashMap中存储的key、value的特点如下：</p>
<ul>
<li>Map 中的 <code class="notranslate">key用Set来存放</code>，<code class="notranslate">不允许重复</code>，即同一个 Map 对象所对应的类，须重写hashCode()和equals()方法</li>
<li>key 和 value 之间存在单向一对一关系，即通过指定的 key 总能找到唯一的、确定的 value，不同key对应的<code class="notranslate">value可以重复</code>。value所在的类要重写equals()方法。</li>
<li>key和value构成一个entry。所有的entry彼此之间是<code class="notranslate">无序的</code>、<code class="notranslate">不可重复的</code>。</li>
</ul>
<h3>6.2 Map接口的常用方法</h3>
<ul>
<li><strong>添加、修改操作：</strong>
<ul>
<li>Object put(Object key,Object value)：将指定key-value添加到(或修改)当前map对象中</li>
<li>void putAll(Map m):将m中的所有key-value对存放到当前map中</li>
</ul>
</li>
<li><strong>删除操作：</strong>
<ul>
<li>Object remove(Object key)：移除指定key的key-value对，并返回value</li>
<li>void clear()：清空当前map中的所有数据</li>
</ul>
</li>
<li><strong>元素查询的操作：</strong>
<ul>
<li>Object get(Object key)：获取指定key对应的value</li>
<li>boolean containsKey(Object key)：是否包含指定的key</li>
<li>boolean containsValue(Object value)：是否包含指定的value</li>
<li>int size()：返回map中key-value对的个数</li>
<li>boolean isEmpty()：判断当前map是否为空</li>
<li>boolean equals(Object obj)：判断当前map和参数对象obj是否相等</li>
</ul>
</li>
<li><strong>元视图操作的方法：</strong>
<ul>
<li>Set keySet()：返回所有key构成的Set集合</li>
<li>Collection values()：返回所有value构成的Collection集合</li>
<li>Set entrySet()：返回所有key-value对构成的Set集合</li>
</ul>
</li>
</ul>
<p>举例：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">package</span> <span class="pl-s1">com</span>.<span class="pl-s1">atguigu</span>.<span class="pl-s1">map</span>;

<span class="pl-k">import</span> <span class="pl-s1">java</span>.<span class="pl-s1">util</span>.<span class="pl-s1">HashMap</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TestMapMethod</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-c">//创建 map对象</span>
        <span class="pl-smi">HashMap</span> <span class="pl-s1">map</span> = <span class="pl-k">new</span> <span class="pl-smi">HashMap</span>();

        <span class="pl-c">//添加元素到集合</span>
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"黄晓明"</span>, <span class="pl-s">"杨颖"</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"李晨"</span>, <span class="pl-s">"李小璐"</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"李晨"</span>, <span class="pl-s">"范冰冰"</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"邓超"</span>, <span class="pl-s">"孙俪"</span>);
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">map</span>);

        <span class="pl-c">//删除指定的key-value</span>
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">map</span>.<span class="pl-en">remove</span>(<span class="pl-s">"黄晓明"</span>));
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">map</span>);

        <span class="pl-c">//查询指定key对应的value</span>
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">map</span>.<span class="pl-en">get</span>(<span class="pl-s">"邓超"</span>));
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">map</span>.<span class="pl-en">get</span>(<span class="pl-s">"黄晓明"</span>));

    }
}</pre></div>
<p>举例：</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
    <span class="pl-smi">HashMap</span> <span class="pl-s1">map</span> = <span class="pl-k">new</span> <span class="pl-smi">HashMap</span>();
    <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"许仙"</span>, <span class="pl-s">"白娘子"</span>);
    <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"董永"</span>, <span class="pl-s">"七仙女"</span>);
    <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"牛郎"</span>, <span class="pl-s">"织女"</span>);
    <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"许仙"</span>, <span class="pl-s">"小青"</span>);

    <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"所有的key:"</span>);
    <span class="pl-smi">Set</span> <span class="pl-s1">keySet</span> = <span class="pl-s1">map</span>.<span class="pl-en">keySet</span>();
    <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">key</span> : <span class="pl-s1">keySet</span>) {
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">key</span>);
    }

    <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"所有的value:"</span>);
    <span class="pl-smi">Collection</span> <span class="pl-s1">values</span> = <span class="pl-s1">map</span>.<span class="pl-en">values</span>();
    <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">value</span> : <span class="pl-s1">values</span>) {
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">value</span>);
    }

    <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"所有的映射关系:"</span>);
    <span class="pl-smi">Set</span> <span class="pl-s1">entrySet</span> = <span class="pl-s1">map</span>.<span class="pl-en">entrySet</span>();
    <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">mapping</span> : <span class="pl-s1">entrySet</span>) {
        <span class="pl-c">//System.out.println(entry);</span>
        <span class="pl-smi">Map</span>.<span class="pl-smi">Entry</span> <span class="pl-s1">entry</span> = (<span class="pl-smi">Map</span>.<span class="pl-smi">Entry</span>) <span class="pl-s1">mapping</span>;
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">entry</span>.<span class="pl-en">getKey</span>() + <span class="pl-s">"-&gt;"</span> + <span class="pl-s1">entry</span>.<span class="pl-en">getValue</span>());
    }
}</pre></div>
<h3>6.3 Map的主要实现类：HashMap</h3>
<h4>6.3.1 HashMap概述</h4>
<ul>
<li>HashMap是 Map 接口<code class="notranslate">使用频率最高</code>的实现类。</li>
<li>HashMap是线程不安全的。允许添加 null 键和 null 值。</li>
<li>存储数据采用的哈希表结构，底层使用<code class="notranslate">一维数组</code>+<code class="notranslate">单向链表</code>+<code class="notranslate">红黑树</code>进行key-value数据的存储。与HashSet一样，元素的存取顺序不能保证一致。</li>
<li>HashMap <code class="notranslate">判断两个key相等的标准</code>是：两个 key 的hashCode值相等，通过 equals() 方法返回 true。</li>
<li>HashMap <code class="notranslate">判断两个value相等的标准</code>是：两个 value 通过 equals() 方法返回 true。</li>
</ul>
<h4>6.3.2 练习</h4>
<p>**练习1：**添加你喜欢的歌手以及你喜欢他唱过的歌曲</p>
<p>例如：</p>
<p><a target="_blank" rel="noopener noreferrer" href="images/image-20220914190805362.png"><img src="images/image-20220914190805362.png" alt="" style="max-width: 100%;"></a></p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">//方式1</span>
<span class="pl-c">/**</span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @create 9:03</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">SingerTest1</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {

        <span class="pl-c">//创建一个HashMap用于保存歌手和其歌曲集</span>

        <span class="pl-smi">HashMap</span> <span class="pl-s1">singers</span> = <span class="pl-k">new</span> <span class="pl-smi">HashMap</span>();
        <span class="pl-c">//声明一组key,value</span>
        <span class="pl-smi">String</span> <span class="pl-s1">singer1</span> = <span class="pl-s">"周杰伦"</span>;

        <span class="pl-smi">ArrayList</span> <span class="pl-s1">songs1</span> = <span class="pl-k">new</span> <span class="pl-smi">ArrayList</span>();
        <span class="pl-s1">songs1</span>.<span class="pl-en">add</span>(<span class="pl-s">"双节棍"</span>);
        <span class="pl-s1">songs1</span>.<span class="pl-en">add</span>(<span class="pl-s">"本草纲目"</span>);
        <span class="pl-s1">songs1</span>.<span class="pl-en">add</span>(<span class="pl-s">"夜曲"</span>);
        <span class="pl-s1">songs1</span>.<span class="pl-en">add</span>(<span class="pl-s">"稻香"</span>);
        <span class="pl-c">//添加到map中</span>
        <span class="pl-s1">singers</span>.<span class="pl-en">put</span>(<span class="pl-s1">singer1</span>,<span class="pl-s1">songs1</span>);
        <span class="pl-c">//声明一组key,value</span>
        <span class="pl-smi">String</span> <span class="pl-s1">singer2</span> = <span class="pl-s">"陈奕迅"</span>;
        <span class="pl-smi">List</span> <span class="pl-s1">songs2</span> = <span class="pl-smi">Arrays</span>.<span class="pl-en">asList</span>(<span class="pl-s">"浮夸"</span>, <span class="pl-s">"十年"</span>, <span class="pl-s">"红玫瑰"</span>, <span class="pl-s">"好久不见"</span>, <span class="pl-s">"孤勇者"</span>);
        <span class="pl-c">//添加到map中</span>
        <span class="pl-s1">singers</span>.<span class="pl-en">put</span>(<span class="pl-s1">singer2</span>,<span class="pl-s1">songs2</span>);

        <span class="pl-c">//遍历map</span>
        <span class="pl-smi">Set</span> <span class="pl-s1">entrySet</span> = <span class="pl-s1">singers</span>.<span class="pl-en">entrySet</span>();
        <span class="pl-k">for</span>(<span class="pl-smi">Object</span> <span class="pl-s1">obj</span> : <span class="pl-s1">entrySet</span>){
            <span class="pl-smi">Map</span>.<span class="pl-smi">Entry</span> <span class="pl-s1">entry</span> = (<span class="pl-smi">Map</span>.<span class="pl-smi">Entry</span>)<span class="pl-s1">obj</span>;
            <span class="pl-smi">String</span> <span class="pl-s1">singer</span> = (<span class="pl-smi">String</span>) <span class="pl-s1">entry</span>.<span class="pl-en">getKey</span>();
            <span class="pl-smi">List</span> <span class="pl-s1">songs</span> = (<span class="pl-smi">List</span>) <span class="pl-s1">entry</span>.<span class="pl-en">getValue</span>();

            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"歌手："</span> + <span class="pl-s1">singer</span>);
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"歌曲有："</span> + <span class="pl-s1">songs</span>);
        }

    }
}</pre></div>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">//方式2：改为HashSet实现</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">SingerTest2</span> {
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test1</span>() {

        <span class="pl-smi">Singer</span> <span class="pl-s1">singer1</span> = <span class="pl-k">new</span> <span class="pl-smi">Singer</span>(<span class="pl-s">"周杰伦"</span>);
        <span class="pl-smi">Singer</span> <span class="pl-s1">singer2</span> = <span class="pl-k">new</span> <span class="pl-smi">Singer</span>(<span class="pl-s">"陈奕迅"</span>);

        <span class="pl-smi">Song</span> <span class="pl-s1">song1</span> = <span class="pl-k">new</span> <span class="pl-smi">Song</span>(<span class="pl-s">"双节棍"</span>);
        <span class="pl-smi">Song</span> <span class="pl-s1">song2</span> = <span class="pl-k">new</span> <span class="pl-smi">Song</span>(<span class="pl-s">"本草纲目"</span>);
        <span class="pl-smi">Song</span> <span class="pl-s1">song3</span> = <span class="pl-k">new</span> <span class="pl-smi">Song</span>(<span class="pl-s">"夜曲"</span>);
        <span class="pl-smi">Song</span> <span class="pl-s1">song4</span> = <span class="pl-k">new</span> <span class="pl-smi">Song</span>(<span class="pl-s">"浮夸"</span>);
        <span class="pl-smi">Song</span> <span class="pl-s1">song5</span> = <span class="pl-k">new</span> <span class="pl-smi">Song</span>(<span class="pl-s">"十年"</span>);
        <span class="pl-smi">Song</span> <span class="pl-s1">song6</span> = <span class="pl-k">new</span> <span class="pl-smi">Song</span>(<span class="pl-s">"孤勇者"</span>);

        <span class="pl-smi">HashSet</span> <span class="pl-s1">h1</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>();<span class="pl-c">// 放歌手一的歌曲</span>
        <span class="pl-s1">h1</span>.<span class="pl-en">add</span>(<span class="pl-s1">song1</span>);
        <span class="pl-s1">h1</span>.<span class="pl-en">add</span>(<span class="pl-s1">song2</span>);
        <span class="pl-s1">h1</span>.<span class="pl-en">add</span>(<span class="pl-s1">song3</span>);

        <span class="pl-smi">HashSet</span> <span class="pl-s1">h2</span> = <span class="pl-k">new</span> <span class="pl-smi">HashSet</span>();<span class="pl-c">// 放歌手二的歌曲</span>
        <span class="pl-s1">h2</span>.<span class="pl-en">add</span>(<span class="pl-s1">song4</span>);
        <span class="pl-s1">h2</span>.<span class="pl-en">add</span>(<span class="pl-s1">song5</span>);
        <span class="pl-s1">h2</span>.<span class="pl-en">add</span>(<span class="pl-s1">song6</span>);

        <span class="pl-smi">HashMap</span> <span class="pl-s1">hashMap</span> = <span class="pl-k">new</span> <span class="pl-smi">HashMap</span>();<span class="pl-c">// 放歌手和他对应的歌曲</span>
        <span class="pl-s1">hashMap</span>.<span class="pl-en">put</span>(<span class="pl-s1">singer1</span>, <span class="pl-s1">h1</span>);
        <span class="pl-s1">hashMap</span>.<span class="pl-en">put</span>(<span class="pl-s1">singer2</span>, <span class="pl-s1">h2</span>);

        <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">obj</span> : <span class="pl-s1">hashMap</span>.<span class="pl-en">keySet</span>()) {
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">obj</span> + <span class="pl-s">"="</span> + <span class="pl-s1">hashMap</span>.<span class="pl-en">get</span>(<span class="pl-s1">obj</span>));
        }

    }
}

<span class="pl-c">//歌曲</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">Song</span> <span class="pl-k">implements</span> <span class="pl-smi">Comparable</span>{
    <span class="pl-k">private</span> <span class="pl-smi">String</span> <span class="pl-s1">songName</span>;<span class="pl-c">//歌名</span>

    <span class="pl-k">public</span> <span class="pl-smi">Song</span>() {
        <span class="pl-en">super</span>();
    }

    <span class="pl-k">public</span> <span class="pl-smi">Song</span>(<span class="pl-smi">String</span> <span class="pl-s1">songName</span>) {
        <span class="pl-en">super</span>();
        <span class="pl-smi">this</span>.<span class="pl-s1">songName</span> = <span class="pl-s1">songName</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">getSongName</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">songName</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setSongName</span>(<span class="pl-smi">String</span> <span class="pl-s1">songName</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">songName</span> = <span class="pl-s1">songName</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s">"《"</span> + <span class="pl-s1">songName</span> + <span class="pl-s">"》"</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compareTo</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> == <span class="pl-smi">this</span>){
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> <span class="pl-k">instanceof</span> <span class="pl-smi">Song</span>){
            <span class="pl-smi">Song</span> <span class="pl-s1">song</span> = (<span class="pl-smi">Song</span>)<span class="pl-s1">o</span>;
            <span class="pl-k">return</span> <span class="pl-s1">songName</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">song</span>.<span class="pl-en">getSongName</span>());
        }
        <span class="pl-k">return</span> <span class="pl-c1">0</span>;
    }
    
    
}
<span class="pl-c">//歌手</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">Singer</span> <span class="pl-k">implements</span> <span class="pl-smi">Comparable</span>{
    <span class="pl-k">private</span> <span class="pl-smi">String</span> <span class="pl-s1">name</span>;
    <span class="pl-k">private</span> <span class="pl-smi">Song</span> <span class="pl-s1">song</span>;
    
    <span class="pl-k">public</span> <span class="pl-smi">Singer</span>() {
        <span class="pl-en">super</span>();
    }

    <span class="pl-k">public</span> <span class="pl-smi">Singer</span>(<span class="pl-smi">String</span> <span class="pl-s1">name</span>) {
        <span class="pl-en">super</span>();
        <span class="pl-smi">this</span>.<span class="pl-s1">name</span> = <span class="pl-s1">name</span>;
        
    }

    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">getName</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">name</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setName</span>(<span class="pl-smi">String</span> <span class="pl-s1">name</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">name</span> = <span class="pl-s1">name</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">Song</span> <span class="pl-en">getSong</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">song</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">setSong</span>(<span class="pl-smi">Song</span> <span class="pl-s1">song</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">song</span> = <span class="pl-s1">song</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s1">name</span>;
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compareTo</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> == <span class="pl-smi">this</span>){
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-k">if</span>(<span class="pl-s1">o</span> <span class="pl-k">instanceof</span> <span class="pl-smi">Singer</span>){
            <span class="pl-smi">Singer</span> <span class="pl-s1">singer</span> = (<span class="pl-smi">Singer</span>)<span class="pl-s1">o</span>;
            <span class="pl-k">return</span> <span class="pl-s1">name</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">singer</span>.<span class="pl-en">getName</span>());
        }
        <span class="pl-k">return</span> <span class="pl-c1">0</span>;
    }
}</pre></div>
<p><strong>练习2</strong>：二级联动</p>
<p>将省份和城市的名称保存在集合中，当用户选择省份以后，二级联动，显示对应省份的地级市供用户选择。</p>
<p>效果演示：</p>
<p><a target="_blank" rel="noopener noreferrer" href="images/clip_image001.png"><img src="images/clip_image001.png" alt="" style="max-width: 100%;"></a></p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * @Description </span>
<span class="pl-c"> * @author 尚硅谷-宋红康  Email:shkstart@126.com</span>
<span class="pl-c"> * @version </span>
<span class="pl-c"> * @date 2021年5月7日上午12:26:59</span>
<span class="pl-c"> *</span>
<span class="pl-c"> */</span>
<span class="pl-k">class</span> <span class="pl-smi">CityMap</span>{
    
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">Map</span> <span class="pl-s1">model</span> = <span class="pl-k">new</span> <span class="pl-smi">HashMap</span>();
    
    <span class="pl-k">static</span> {
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"北京"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"北京"</span>});
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"上海"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"上海"</span>});
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"天津"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"天津"</span>});
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"重庆"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"重庆"</span>});
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"黑龙江"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"哈尔滨"</span>,<span class="pl-s">"齐齐哈尔"</span>,<span class="pl-s">"牡丹江"</span>,<span class="pl-s">"大庆"</span>,<span class="pl-s">"伊春"</span>,<span class="pl-s">"双鸭山"</span>,<span class="pl-s">"绥化"</span>});
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"吉林"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"长春"</span>,<span class="pl-s">"延边"</span>,<span class="pl-s">"吉林"</span>,<span class="pl-s">"白山"</span>,<span class="pl-s">"白城"</span>,<span class="pl-s">"四平"</span>,<span class="pl-s">"松原"</span>});
        <span class="pl-s1">model</span>.<span class="pl-en">put</span>(<span class="pl-s">"河北"</span>, <span class="pl-k">new</span> <span class="pl-smi">String</span>[] {<span class="pl-s">"石家庄"</span>,<span class="pl-s">"张家口"</span>,<span class="pl-s">"邯郸"</span>,<span class="pl-s">"邢台"</span>,<span class="pl-s">"唐山"</span>,<span class="pl-s">"保定"</span>,<span class="pl-s">"秦皇岛"</span>});
    }
    
}

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">ProvinceTest</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        
        <span class="pl-smi">Set</span> <span class="pl-s1">keySet</span> = <span class="pl-smi">CityMap</span>.<span class="pl-s1">model</span>.<span class="pl-en">keySet</span>();
        <span class="pl-k">for</span>(<span class="pl-smi">Object</span> <span class="pl-s1">s</span> : <span class="pl-s1">keySet</span>) {
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">print</span>(<span class="pl-s1">s</span> + <span class="pl-s">"<span class="pl-cce">\t</span>"</span>);
        }
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>();
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"请选择你所在的省份："</span>);
        <span class="pl-smi">Scanner</span> <span class="pl-s1">scan</span> = <span class="pl-k">new</span> <span class="pl-smi">Scanner</span>(<span class="pl-smi">System</span>.<span class="pl-s1">in</span>);
        <span class="pl-smi">String</span> <span class="pl-s1">province</span> = <span class="pl-s1">scan</span>.<span class="pl-en">next</span>();
        
        <span class="pl-smi">String</span>[] <span class="pl-s1">citys</span> = (<span class="pl-smi">String</span>[])<span class="pl-smi">CityMap</span>.<span class="pl-s1">model</span>.<span class="pl-en">get</span>(<span class="pl-s1">province</span>);
        <span class="pl-k">for</span>(<span class="pl-smi">String</span> <span class="pl-s1">city</span> : <span class="pl-s1">citys</span>) {
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">print</span>(<span class="pl-s1">city</span> + <span class="pl-s">"<span class="pl-cce">\t</span>"</span>);
        }
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>();
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"请选择你所在的城市："</span>);
        <span class="pl-smi">String</span> <span class="pl-s1">city</span> = <span class="pl-s1">scan</span>.<span class="pl-en">next</span>();
        
        <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"信息登记完毕"</span>);
    }
    
}</pre></div>
<p><strong>练习3</strong>：WordCount统计</p>
<p>需求：统计字符串中每个字符出现的次数</p>
<p>String str = "aaaabbbcccccccccc";</p>
<p>提示：</p>
<p>char[] arr = str.toCharArray();   //将字符串转换成字符数组</p>
<p>HashMap hm = new HashMap();   //创建双列集合存储键和值，键放字符，值放次数</p>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * @author 尚硅谷-宋红康 </span>
<span class="pl-c"> * @date 2022年5月7日上午12:26:59</span>
<span class="pl-c"> *</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">WordCountTest</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-smi">String</span> <span class="pl-s1">str</span> = <span class="pl-s">"aaaabbbcccccccccc"</span>;
        <span class="pl-smi">char</span>[] <span class="pl-s1">arr</span> = <span class="pl-s1">str</span>.<span class="pl-en">toCharArray</span>(); <span class="pl-c">// 将字符串转换成字符数组</span>
        <span class="pl-smi">HashMap</span> <span class="pl-s1">map</span> = <span class="pl-k">new</span> <span class="pl-smi">HashMap</span>(); <span class="pl-c">// 创建双列集合存储键和值</span>

        <span class="pl-k">for</span> (<span class="pl-smi">char</span> <span class="pl-s1">c</span> : <span class="pl-s1">arr</span>) { <span class="pl-c">// 遍历字符数组</span>
            <span class="pl-k">if</span> (!<span class="pl-s1">map</span>.<span class="pl-en">containsKey</span>(<span class="pl-s1">c</span>)) { <span class="pl-c">// 如果不包含这个键</span>
                <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s1">c</span>, <span class="pl-c1">1</span>); <span class="pl-c">// 就将键和值为1添加</span>
            } <span class="pl-k">else</span> { <span class="pl-c">// 如果包含这个键</span>
                <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s1">c</span>, (<span class="pl-smi">int</span>)<span class="pl-s1">map</span>.<span class="pl-en">get</span>(<span class="pl-s1">c</span>) + <span class="pl-c1">1</span>); <span class="pl-c">// 就将键和值再加1添加进来</span>
            }

        }

        <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">key</span> : <span class="pl-s1">map</span>.<span class="pl-en">keySet</span>()) { <span class="pl-c">// 遍历双列集合</span>
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">key</span> + <span class="pl-s">"="</span> + <span class="pl-s1">map</span>.<span class="pl-en">get</span>(<span class="pl-s1">key</span>));
        }

    }
}</pre></div>
<h3>6.4 Map实现类之二：LinkedHashMap</h3>
<ul>
<li>LinkedHashMap 是 HashMap 的子类</li>
<li>存储数据采用的哈希表结构+链表结构，在HashMap存储结构的基础上，使用了一对<code class="notranslate">双向链表</code>来<code class="notranslate">记录添加元素的先后顺序</code>，可以保证遍历元素时，与添加的顺序一致。</li>
<li>通过哈希表结构可以保证键的唯一、不重复，需要键所在类重写hashCode()方法、equals()方法。</li>
</ul>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TestLinkedHashMap</span> {
    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span>[] <span class="pl-s1">args</span>) {
        <span class="pl-smi">LinkedHashMap</span> <span class="pl-s1">map</span> = <span class="pl-k">new</span> <span class="pl-smi">LinkedHashMap</span>();
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"王五"</span>, <span class="pl-c1">13000.0</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"张三"</span>, <span class="pl-c1">10000.0</span>);
        <span class="pl-c">//key相同，新的value会覆盖原来的value</span>
        <span class="pl-c">//因为String重写了hashCode和equals方法</span>
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"张三"</span>, <span class="pl-c1">12000.0</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"李四"</span>, <span class="pl-c1">14000.0</span>);
        <span class="pl-c">//HashMap支持key和value为null值</span>
        <span class="pl-smi">String</span> <span class="pl-s1">name</span> = <span class="pl-c1">null</span>;
        <span class="pl-smi">Double</span> <span class="pl-s1">salary</span> = <span class="pl-c1">null</span>;
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s1">name</span>, <span class="pl-s1">salary</span>);

        <span class="pl-smi">Set</span> <span class="pl-s1">entrySet</span> = <span class="pl-s1">map</span>.<span class="pl-en">entrySet</span>();
        <span class="pl-k">for</span> (<span class="pl-smi">Object</span> <span class="pl-s1">obj</span> : <span class="pl-s1">entrySet</span>) {
            <span class="pl-smi">Map</span>.<span class="pl-smi">Entry</span> <span class="pl-s1">entry</span> = (<span class="pl-smi">Map</span>.<span class="pl-smi">Entry</span>)<span class="pl-s1">obj</span>;
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">entry</span>);
        }
    }
}</pre></div>
<h3>6.5 Map实现类之三：TreeMap</h3>
<ul>
<li>TreeMap存储 key-value 对时，需要根据 key-value 对进行排序。TreeMap 可以保证所有的 key-value 对处于<code class="notranslate">有序状态</code>。</li>
<li>TreeSet底层使用<code class="notranslate">红黑树</code>结构存储数据</li>
<li>TreeMap 的 Key 的排序：
<ul>
<li><code class="notranslate">自然排序</code>：TreeMap 的所有的 Key 必须实现 Comparable 接口，而且所有的 Key 应该是同一个类的对象，否则将会抛出 ClasssCastException</li>
<li><code class="notranslate">定制排序</code>：创建 TreeMap 时，构造器传入一个 Comparator 对象，该对象负责对 TreeMap 中的所有 key 进行排序。此时不需要 Map 的 Key 实现 Comparable 接口</li>
</ul>
</li>
<li>TreeMap判断<code class="notranslate">两个key相等的标准</code>：两个key通过compareTo()方法或者compare()方法返回0。</li>
</ul>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">/**</span>
<span class="pl-c"> * @author 尚硅谷-宋红康</span>
<span class="pl-c"> * @create 1:23</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TestTreeMap</span> {
    <span class="pl-c">/*</span>
<span class="pl-c">    * 自然排序举例</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test1</span>(){
        <span class="pl-smi">TreeMap</span> <span class="pl-s1">map</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeMap</span>();

        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"CC"</span>,<span class="pl-c1">45</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"MM"</span>,<span class="pl-c1">78</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"DD"</span>,<span class="pl-c1">56</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"GG"</span>,<span class="pl-c1">89</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-s">"JJ"</span>,<span class="pl-c1">99</span>);

        <span class="pl-smi">Set</span> <span class="pl-s1">entrySet</span> = <span class="pl-s1">map</span>.<span class="pl-en">entrySet</span>();
        <span class="pl-k">for</span>(<span class="pl-smi">Object</span> <span class="pl-s1">entry</span> : <span class="pl-s1">entrySet</span>){
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">entry</span>);
        }

    }

    <span class="pl-c">/*</span>
<span class="pl-c">    * 定制排序</span>
<span class="pl-c">    *</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Test</span>
    <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test2</span>(){
        <span class="pl-c">//按照User的姓名的从小到大的顺序排列</span>

        <span class="pl-smi">TreeMap</span> <span class="pl-s1">map</span> = <span class="pl-k">new</span> <span class="pl-smi">TreeMap</span>(<span class="pl-k">new</span> <span class="pl-smi">Comparator</span>() {
            <span class="pl-c1">@</span><span class="pl-c1">Override</span>
            <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compare</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o1</span>, <span class="pl-smi">Object</span> <span class="pl-s1">o2</span>) {
                <span class="pl-k">if</span>(<span class="pl-s1">o1</span> <span class="pl-k">instanceof</span> <span class="pl-smi">User</span> &amp;&amp; <span class="pl-s1">o2</span> <span class="pl-k">instanceof</span> <span class="pl-smi">User</span>){
                    <span class="pl-smi">User</span> <span class="pl-s1">u1</span> = (<span class="pl-smi">User</span>)<span class="pl-s1">o1</span>;
                    <span class="pl-smi">User</span> <span class="pl-s1">u2</span> = (<span class="pl-smi">User</span>)<span class="pl-s1">o2</span>;

                    <span class="pl-k">return</span> <span class="pl-s1">u1</span>.<span class="pl-s1">name</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">u2</span>.<span class="pl-s1">name</span>);
                }
                <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"输入的类型不匹配"</span>);
            }
        });

        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Tom"</span>,<span class="pl-c1">12</span>),<span class="pl-c1">67</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Rose"</span>,<span class="pl-c1">23</span>),<span class="pl-s">"87"</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jerry"</span>,<span class="pl-c1">2</span>),<span class="pl-c1">88</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Eric"</span>,<span class="pl-c1">18</span>),<span class="pl-c1">45</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Tommy"</span>,<span class="pl-c1">44</span>),<span class="pl-c1">77</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Jim"</span>,<span class="pl-c1">23</span>),<span class="pl-c1">88</span>);
        <span class="pl-s1">map</span>.<span class="pl-en">put</span>(<span class="pl-k">new</span> <span class="pl-smi">User</span>(<span class="pl-s">"Maria"</span>,<span class="pl-c1">18</span>),<span class="pl-c1">34</span>);

        <span class="pl-smi">Set</span> <span class="pl-s1">entrySet</span> = <span class="pl-s1">map</span>.<span class="pl-en">entrySet</span>();
        <span class="pl-k">for</span>(<span class="pl-smi">Object</span> <span class="pl-s1">entry</span> : <span class="pl-s1">entrySet</span>){
            <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">entry</span>);
        }
    }
}

<span class="pl-k">class</span> <span class="pl-smi">User</span> <span class="pl-k">implements</span> <span class="pl-smi">Comparable</span>{
    <span class="pl-smi">String</span> <span class="pl-s1">name</span>;
    <span class="pl-smi">int</span> <span class="pl-s1">age</span>;

    <span class="pl-k">public</span> <span class="pl-smi">User</span>(<span class="pl-smi">String</span> <span class="pl-s1">name</span>, <span class="pl-smi">int</span> <span class="pl-s1">age</span>) {
        <span class="pl-smi">this</span>.<span class="pl-s1">name</span> = <span class="pl-s1">name</span>;
        <span class="pl-smi">this</span>.<span class="pl-s1">age</span> = <span class="pl-s1">age</span>;
    }

    <span class="pl-k">public</span> <span class="pl-smi">User</span>() {
    }

    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s">"User{"</span> +
                <span class="pl-s">"name='"</span> + <span class="pl-s1">name</span> + <span class="pl-s">'\''</span> +
                <span class="pl-s">", age="</span> + <span class="pl-s1">age</span> +
                <span class="pl-s">'}'</span>;
    }
    <span class="pl-c">/*</span>
<span class="pl-c">    举例：按照age从小到大的顺序排列，如果age相同，则按照name从大到小的顺序排列</span>
<span class="pl-c">    * */</span>
    <span class="pl-c1">@</span><span class="pl-c1">Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">compareTo</span>(<span class="pl-smi">Object</span> <span class="pl-s1">o</span>) {
        <span class="pl-k">if</span>(<span class="pl-smi">this</span> == <span class="pl-s1">o</span>){
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }

        <span class="pl-k">if</span>(<span class="pl-s1">o</span> <span class="pl-k">instanceof</span> <span class="pl-smi">User</span>){
            <span class="pl-smi">User</span> <span class="pl-s1">user</span> = (<span class="pl-smi">User</span>)<span class="pl-s1">o</span>;
            <span class="pl-smi">int</span> <span class="pl-s1">value</span> = <span class="pl-smi">this</span>.<span class="pl-s1">age</span> - <span class="pl-s1">user</span>.<span class="pl-s1">age</span>;
            <span class="pl-k">if</span>(<span class="pl-s1">value</span> != <span class="pl-c1">0</span>){
                <span class="pl-k">return</span> <span class="pl-s1">value</span>;
            }
            <span class="pl-k">return</span> -<span class="pl-smi">this</span>.<span class="pl-s1">name</span>.<span class="pl-en">compareTo</span>(<span class="pl-s1">user</span>.<span class="pl-s1">name</span>);
        }
        <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-smi">RuntimeException</span>(<span class="pl-s">"输入的类型不匹配"</span>);
    }
}</pre></div>
<h3>6.6 Map实现类之四：Hashtable</h3>
<ul>
<li>Hashtable是Map接口的<code class="notranslate">古老实现类</code>，JDK1.0就提供了。不同于HashMap，Hashtable是线程安全的。</li>
<li>Hashtable实现原理和HashMap相同，功能相同。底层都使用哈希表结构（数组+单向链表），查询速度快。</li>
<li>与HashMap一样，Hashtable 也不能保证其中 Key-Value 对的顺序</li>
<li>Hashtable判断两个key相等、两个value相等的标准，与HashMap一致。</li>
<li>与HashMap不同，Hashtable 不允许使用 null 作为 key 或 value。</li>
</ul>
<p>面试题：Hashtable和HashMap的区别</p>
<pre lang="plain" class="notranslate"><code class="notranslate">HashMap:底层是一个哈希表（jdk7:数组+链表;jdk8:数组+链表+红黑树）,是一个线程不安全的集合,执行效率高
Hashtable:底层也是一个哈希表（数组+链表）,是一个线程安全的集合,执行效率低

HashMap集合:可以存储null的键、null的值
Hashtable集合,不能存储null的键、null的值

Hashtable和Vector集合一样,在jdk1.2版本之后被更先进的集合(HashMap,ArrayList)取代了。所以HashMap是Map的主要实现类，Hashtable是Map的古老实现类。

Hashtable的子类Properties（配置文件）依然活跃在历史舞台
Properties集合是一个唯一和IO流相结合的集合
</code></pre>
<h3>6.7 Map实现类之五：Properties</h3>
<ul>
<li>Properties 类是 Hashtable 的子类，该对象用于处理属性文件</li>
<li>由于属性文件里的 key、value 都是字符串类型，所以 Properties 中要求 key 和 value 都是字符串类型</li>
<li>存取数据时，建议使用setProperty(String key,String value)方法和getProperty(String key)方法</li>
</ul>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c1">@</span><span class="pl-c1">Test</span>
<span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test01</span>() {
    <span class="pl-smi">Properties</span> <span class="pl-s1">properties</span> = <span class="pl-smi">System</span>.<span class="pl-en">getProperties</span>();
    <span class="pl-smi">String</span> <span class="pl-s1">fileEncoding</span> = <span class="pl-s1">properties</span>.<span class="pl-en">getProperty</span>(<span class="pl-s">"file.encoding"</span>);<span class="pl-c">//当前源文件字符编码</span>
    <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s">"fileEncoding = "</span> + <span class="pl-s1">fileEncoding</span>);
}
<span class="pl-c1">@</span><span class="pl-c1">Test</span>
<span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test02</span>() {
    <span class="pl-smi">Properties</span> <span class="pl-s1">properties</span> = <span class="pl-k">new</span> <span class="pl-smi">Properties</span>();
    <span class="pl-s1">properties</span>.<span class="pl-en">setProperty</span>(<span class="pl-s">"user"</span>,<span class="pl-s">"songhk"</span>);
    <span class="pl-s1">properties</span>.<span class="pl-en">setProperty</span>(<span class="pl-s">"password"</span>,<span class="pl-s">"123456"</span>);
    <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">properties</span>);
}

<span class="pl-c1">@</span><span class="pl-c1">Test</span>
<span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">test03</span>() <span class="pl-k">throws</span> <span class="pl-smi">IOException</span> {
    <span class="pl-smi">Properties</span> <span class="pl-s1">pros</span> = <span class="pl-k">new</span> <span class="pl-smi">Properties</span>();
    <span class="pl-s1">pros</span>.<span class="pl-en">load</span>(<span class="pl-k">new</span> <span class="pl-smi">FileInputStream</span>(<span class="pl-s">"jdbc.properties"</span>));
    <span class="pl-smi">String</span> <span class="pl-s1">user</span> = <span class="pl-s1">pros</span>.<span class="pl-en">getProperty</span>(<span class="pl-s">"user"</span>);
    <span class="pl-smi">System</span>.<span class="pl-s1">out</span>.<span class="pl-en">println</span>(<span class="pl-s1">user</span>);
}</pre></div>
<ol>
<li>Map及其实现类对比
<ul>
<li><code class="notranslate">java.util.Map</code>: 存储一对一对的数据（key-value键值对，如(x1,y1)、(x2,y2)），类似于高中学习的函数y=f(x)。</li>
<li><code class="notranslate">HashMap</code>: 主要实现类；线程不安全的，效率高；可以添加null的key和value；底层使用数组+单向链表+红黑树结构存储（jdk8）。自然排序 自定义排序</li>
<li><code class="notranslate">LinkedHashMap</code>: 是<code class="notranslate">HashMap</code>的子类；在<code class="notranslate">HashMap</code>使用的数据结构的基础上，增加了一对双向链表，用于记录添加的元素的先后顺序，因此在遍历元素时，就可以按照添加的顺序显示。在开发中，对于频繁的遍历操作，建议使用此类</li>
<li><code class="notranslate">TreeMap</code>: 基于红黑树的Map实现，可以按照键的自然顺序或自定义顺序对键进行排序。</li>
<li><code class="notranslate">Hashtable</code>: 古老实现类；线程安全的，效率相对较低；可以添加null的key或value；底层使用数组+单向链表结构存储（jdk8）。</li>
<li><code class="notranslate">Properties</code>: 是<code class="notranslate">Hashtable</code>的子类，继承了<code class="notranslate">Hashtable</code>的特性，通常用于处理配置文件。</li>
</ul>
</li>
</ol>
<p>[面试题] 区别<code class="notranslate">HashMap</code>和<code class="notranslate">Hashtable</code>、区别<code class="notranslate">HashMap</code>和<code class="notranslate">LinkedHashMap</code>：</p>
<pre class="notranslate"><code class="notranslate">- `HashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;与&lt;/font&gt;`Hashtable`&lt;font style="color:rgb(6, 6, 7);"&gt;的区别在于&lt;/font&gt;`HashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;是非线程安全的，而&lt;/font&gt;`Hashtable`&lt;font style="color:rgb(6, 6, 7);"&gt;是线程安全的。&lt;/font&gt;`HashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;允许null的key和value，而&lt;/font&gt;`Hashtable`&lt;font style="color:rgb(6, 6, 7);"&gt;不允许。&lt;/font&gt;
- `HashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;与&lt;/font&gt;`LinkedHashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;的区别在于&lt;/font&gt;`LinkedHashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;维护了元素插入的顺序，而&lt;/font&gt;`HashMap`&lt;font style="color:rgb(6, 6, 7);"&gt;不维护。&lt;/font&gt;
</code></pre>
<ol start="2">
<li><code class="notranslate">HashMap</code>中元素的特点：
<ul>
<li>键值对：HashMap存储的数据是键值对形式。</li>
<li>键唯一：HashMap中的键是唯一的。</li>
<li>值可以重复：HashMap中的值可以有多个相同的值。</li>
</ul>
</li>
</ol>
<p>Map中的常用方法：</p>
<ul>
<li><code class="notranslate">put(K key, V value)</code>: 将指定的值与此Map中的指定键关联。</li>
<li><code class="notranslate">get(Object key)</code>: 返回指定键所映射的值。</li>
<li><code class="notranslate">remove(Object key)</code>: 如果存在一个键的映射关系，则将其从Map中移除。</li>
<li><code class="notranslate">keySet()</code>: 返回Map中包含的键的Set视图。</li>
<li><code class="notranslate">values()</code>: 返回Map中包含的值的Collection视图。</li>
<li><code class="notranslate">entrySet()</code>: 返回Map中包含的键值映射关系的Set视图。</li>
<li><code class="notranslate">size()</code>: 返回Map中的键值映射关系数。</li>
<li><code class="notranslate">isEmpty()</code>: 判断Map是否为空。</li>
</ul></div>
<div style="font-size:small;margin-top:8px;float:right;"><footer style="padding:10px 15px;text-align:left;font-size:14px;color:#555;border-top:1px solid #e0e0e0;line-height:1.8;font-family:Arial,sans-serif"><span>注意：转载请注明出处 <br> 转载请先阅读以下文章 </span><a href="https://blog.adouzi.eu.org/post/21.html" style="color:#0078d7;text-decoration:none">关于博客文章转载规则以及一些闲聊</a> <br><br> <span>  个人主页：<a href="https://adouzi.eu.org" style="color:#0078d7;text-decoration:none">https://adouzi.eu.org</a></span><span> | Email：<a href="mailto:shiraayano@adouzi.eu.org" style="color:#0078d7;text-decoration:none">shiraayano@adouzi.eu.org</a><br><br><br>支持笔者：<a href="https://www.profitableratecpm.com/euxxr69t?key=f815bdc51cd258ab9f699175b0ef4446" style="color:#0078d7;text-decoration:none">点击广告</a><br>广告收入是本站唯一的收入，若本站内容帮到了您，可以点击广告支持笔者。</span><script async data-cfasync="false" src="//pl27420049.profitableratecpm.com/0f4f9e716ea5257a380097bb2d39a0bb/invoke.js"></script><div id="container-0f4f9e716ea5257a380097bb2d39a0bb"></div><br><script type="text/javascript">
atOptions = {
	'key' : '7a765266e94fd2cc53f429f1806bfa33',
	'format' : 'iframe',
	'height' : 90,
	'width' : 728,
	'params' : {}
}; </script><script type='text/javascript' src='//www.highperformanceformat.com/7a765266e94fd2cc53f429f1806bfa33/invoke.js'></script></footer></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://blog.adouzi.eu.org">白綾乃的博客</a></div>
<div id="footer2"><span id="filingNum"><a href="https://beian.miit.gov.cn/" target="_blank"><a href='https://icp.gov.moe/?keyword=20240287' target='_blank'>萌ICP备20240287号</a></a> • </span>
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if("07/12/2024"!=""){
    var startSite=new Date("07/12/2024");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行 "+diffDay+" 天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.disabled=true;
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","shiraayano/shiraayano.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>
<script>document.addEventListener('visibilitychange',function(){const o=document.title;const i=['不来看看咱喵~？','喵喵喵~？'];if(document.visibilityState==='hidden'){document.title=i[Math.floor(Math.random()*i.length)];}else{document.title='欢迎回来喵~';setTimeout(function(){document.title=o;},1000);}});</script><script src='https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js'></script><script>document.addEventListener('visibilitychange',function(){if(!window.originalTitle){window.originalTitle=document.title;}const h=['不来看看咱喵~？','喵喵喵~？'];if(document.visibilityState==='hidden'){document.title=h[Math.floor(Math.random()*h.length)];}else{document.title='欢迎回来喵~';setTimeout(()=>{document.title=window.originalTitle;},1000);}});</script>

</html>
